package com.thinkgem.jeesite.tools;

import com.google.common.collect.Maps;

import java.util.Map;
import java.util.regex.Matcher;
import java.util.regex.Pattern;

/**
 * @Author mrhuang
 * @Date 2017/4/14 0014 10:38
 */
public class ImageTest {
    private static Pattern p = Pattern.compile("<(?i)img[^>]+src\\s*=\\s*['\"]([^'\"]+)['\"][^>]*>");
    public static void main(String[] args) {
        String s="<section style='width: 100%;clear: both;overflow: hidden;margin: 5px 0;'><section class='wx96Diy' data-source='bj.96weixin.com'><section style='width: 100%;clear: both;overflow: hidden;margin: 5px 0;'><section style='width: 30%;display:inline-block;float:left;text-align:right;'><section style='width: 100px; height: 100px; border: 2px solid rgb(245, 239, 85); margin: 10px 0px; display: inline-block; border-radius: 100%;' class='96wx-bdc'><div style='text-align: center;'></div></section></section><section style='margin-top: 12px;width: 70%;margin-left: -25px;float: left;'><section style='background-color:rgb(254,254,254)'><p><span style='font-family: 微软雅黑, 'Microsoft YaHei';'><strong><span style='font-size: 20px;'></span></strong><strong></strong></span></p><p><span style='color: rgb(255, 192, 0); font-family: 微软雅黑, 'Microsoft YaHei';'><strong><span style='font-size: 20px;'>辣眼·弹指功 &nbsp;/ 百合也爱“浪”</span></strong></span></p><p><span style='color: rgb(255, 192, 0); font-family: 微软雅黑, 'Microsoft YaHei';'><strong><span style='font-size: 20px;'>去污·老司机 / &nbsp;还得靠</span></strong><strong><span style='font-size: 20px;'>网“黄”</span></strong><strong><span style='font-size: 20px;'>！</span></strong></span></p><p><span style='color: rgb(255, 192, 0); font-family: 微软雅黑, 'Microsoft YaHei';'><strong><span style='font-size: 20px;'><br></span></strong></span></p><p><span style='color: rgb(255, 192, 0); font-family: 微软雅黑, 'Microsoft YaHei';'><strong><span style='font-size: 20px;'><br></span></strong></span></p><p><br></p></section></section></section></section></section><section style='margin: 5px 0;text-align: center;'><section style='display: inline-block; vertical-align: top; margin-bottom: -10px;'><section style='display: inline-block; vertical-align: bottom; border-width: 0.4em; border-style: solid; border-color: rgb(245, 239, 85) rgb(245, 239, 85) transparent transparent;' class='96wx-bdtc 96wx-bdrc'></section><section style='display: inline-block; vertical-align: top; border-radius: 5px 5px 0px 0px; padding: 6px 10px; font-size: 18px; line-height: 1.2em; color: rgb(255, 255, 255); background-color: rgb(245, 239, 85);' class='96wx-bgc'><section><span style='font-family: 微软雅黑, 'Microsoft YaHei';'>NEWS</span></section></section><section style='display: inline-block; vertical-align: bottom; border-width: 0.4em; border-style: solid; border-color: rgb(245, 239, 85) transparent transparent rgb(245, 239, 85);' class='96wx-bdtc 96wx-bdlc'></section></section><section style='width: 100%;border: 1px solid rgb(240,240,240);box-shadow: rgb(220,220,220)0px 0px 5px;margin-top:-3px;padding:15px 10px;'><p><span style='font-size: 14px; font-family: 微软雅黑, 'Microsoft YaHei';'></span></p><p><span style='font-size: 18px; font-family: 微软雅黑, 'Microsoft YaHei';'>是是是，就在昨天，白百何被曝出轨小鲜肉，</span></p><p><span style='font-size: 18px; font-family: 微软雅黑, 'Microsoft YaHei';'><br></span></p><p><span style='font-size: 18px; font-family: 微软雅黑, 'Microsoft YaHei';'>与一18线男模嬉戏湖边视频被曝光。</span></p><p><span style='font-size: 18px; font-family: 微软雅黑, 'Microsoft YaHei';'><br></span></p><p><span style='font-size: 18px; font-family: 微软雅黑, 'Microsoft YaHei';'>【羞羞脸】</span></p><p><span style='font-size: 18px; font-family: 微软雅黑, 'Microsoft YaHei';'>↓</span></p><p><IMG SRC='http://ww3.sinaimg.cn/bmiddle/a5e5413dly1fejsonr65ag209p04ex6p.gif'><span style='font-size: 18px; font-family: 微软雅黑, 'Microsoft YaHei';'><br></span></p><p><br></p><p><span style='font-family: 微软雅黑, 'Microsoft YaHei'; font-size: 18px; line-height: 25.7143px;'>↓</span><br></p><p><img src='http://wx3.sinaimg.cn/mw690/93cf649dly1fekyjvucoyg209y03uu0y.gif'><span style='font-size: 18px; font-family: 微软雅黑, 'Microsoft YaHei';'><br></span></p><p><br></p><p><span style='font-size: 18px; font-family: 微软雅黑, 'Microsoft YaHei';'>相关报道、图片接连开启霸屏模式，微博微信就</span><span style='color: inherit; font-size: 18px; font-family: 微软雅黑, 'Microsoft YaHei';'>连QQ空间都未幸免，火辣的评论，劲爆的动</span><span style='color: inherit; font-family: 微软雅黑, 'Microsoft YaHei'; font-size: 18px; line-height: 1.42857;'>图，</span></p><p><span style='color: inherit; font-family: 微软雅黑, 'Microsoft YaHei'; font-size: 18px; line-height: 1.42857;'><br></span></p><p><span style='color: inherit; font-family: 微软雅黑, 'Microsoft YaHei'; font-size: 18px; line-height: 1.42857;'>小编已被“百合”姐姐的“弹指”神功洗脑</span></p><p><br></p><p><span style='font-size: 18px; font-family: 微软雅黑, 'Microsoft YaHei';'>弹弹弹！弹走佯装纯洁，爱要“浪”荡荡？！</span></p><p><span style='font-size: 18px; font-family: 微软雅黑, 'Microsoft YaHei';'><br></span></p><p><span style='font-size: 18px; font-family: 微软雅黑, 'Microsoft YaHei';'>oh my lady Lily！</span></p><p><span style='font-size: 18px; font-family: 微软雅黑, 'Microsoft YaHei';'><br></span></p><p><span style='font-size: 18px; font-family: 微软雅黑, 'Microsoft YaHei';'>辣眼睛的看多了，赶紧去去污！</span></p><p><span style='font-size: 14px; font-family: 微软雅黑, 'Microsoft YaHei';'><br></span></p></section></section><section style='margin: 10px 0;'><section style='display: inline-block; vertical-align: top; width: 45%;'><section style='margin: 22px 0% 8px;'><section class='96wx-bdtc' style='border-top: 1px dashed rgb(185, 167, 121);'></section></section></section><section style='display: inline-block; vertical-align: top; width: 10%;'><section style='text-align: center; margin-top: 10px; margin-bottom: 10px;'><img class='96wx-img' data-wxsrc='https://mmbiz.qlogo.cn/mmbiz_png/QKDxrVYehicdGnqQCczlncyMPVybKmhO9Hiaqib5Ukq7CpDX5otA2LRribtIkCdEvBwSOxPv2Qical4FTQlm3WScpIg/0?wx_fmt=png' style='max-width: 100%; width: 60%;' src='http://im3.image.96weixin.com/sucai-n/more/65.png'></section></section><section style='display: inline-block; vertical-align: top; width: 45%;'><section style='margin: 22px 0% 8px;'><section class='96wx-bdtc' style='border-top: 1px dashed rgb(185, 167, 121);'></section></section></section></section><blockquote style='line-height: 1.6;'><span style='font-size: 18px; font-family: 微软雅黑, 'Microsoft YaHei';'>接下来，就有请</span><span style='color: rgb(239, 198, 49); font-family: 微软雅黑, 'Microsoft YaHei'; font-size: 18px; font-weight: bold; line-height: 34.2857px; text-align: center;'>去污小黄瓶→</span><span style='color: inherit; font-size: 18px; font-family: 微软雅黑, 'Microsoft YaHei';'><span style='color: rgb(239, 198, 49); font-weight: bold;'>AQUA丝睿</span></span><span style='line-height: 18.5714px; color: rgb(239, 198, 49); font-weight: bold;'>水蕴养肌净透洁肤油</span><span style='color: inherit; font-size: 18px; font-family: 微软雅黑, 'Microsoft YaHei';'>为吃瓜群众表演，去污的<span style='color: rgb(239, 198, 49); font-weight: bold;'>四</span>大要点！</span></blockquote><p><br></p><p><span style='font-size: 18px; font-family: 微软雅黑, 'Microsoft YaHei';'>首先，我们来看看</span></p><p><span style='font-size: 18px; font-family: 微软雅黑, 'Microsoft YaHei';'><br></span></p><section style='text-align: center; margin: 5px 0px;'><section class='96wx-bdtc 96wx-bdrc 96wx-bdbc' style='transform: rotate(30deg); border-width: 3px; border-style: solid; border-color: rgb(215, 198, 83) rgb(215, 198, 83) rgb(215, 198, 83) rgba(0, 0, 0, 0); border-radius: 50%; display: inline-block;'><section style='border:5px solid rgba(0,0,0,0);display: inline-block;border-radius:50%;'><section class='96wx-bdtc 96wx-bdbc 96wx-bdlc' style='border-width: 3px; border-style: solid; border-color: rgb(215, 198, 83) rgba(0, 0, 0, 0) rgb(215, 198, 83) rgb(215, 198, 83); border-radius: 50%; display: inline-block;'><section class='96wx-color' style='transform: rotate(-30deg); width: 40px; height: 40px; border-radius: 50%; line-height: 40px; font-size: 22px; font-weight: 800; color: rgb(215, 198, 83);'><span style='font-family: 微软雅黑, 'Microsoft YaHei';'>1</span></section></section></section></section></section><p><span style='font-size: 18px; font-family: 微软雅黑, 'Microsoft YaHei';'><br></span></p><p><img src='https://www.1p1g.com/uploadimages/1p1g/20170413/3ced3e6e-19c2-4318-b9c7-8cb4b21670c6.jpg' style='color: inherit; font-size: 13.3333px; line-height: 20.6349px;'><img src='https://www.1p1g.com/uploadimages/1p1g/20170413/66a110e0-1824-49b1-8393-bfb9fe0b0874.jpg' style='font-size: 13.3333px; line-height: 20.6349px;'><span style='font-size: 18px; font-family: 微软雅黑, 'Microsoft YaHei';'><br></span></p><p><span style='font-size: 18px; font-family: 微软雅黑, 'Microsoft YaHei';'>外观质地：<span style='font-family: 微软雅黑; line-height: 18.1818px; color: rgb(255, 0, 0);'>★ ★ ★ ★ ☆</span></span></p><p><span style='font-size: 18px; font-family: 微软雅黑, 'Microsoft YaHei';'>评测结果：这次评测的是</span><span style='color: rgb(239, 198, 49); font-family: 微软雅黑, 'Microsoft YaHei'; font-size: 18px; font-weight: bold; line-height: 34.2857px; text-align: center;'>去污小黄瓶→</span><span style='color: inherit; font-size: 18px; font-family: 微软雅黑, 'Microsoft YaHei';'><span style='color: rgb(239, 198, 49); font-weight: bold;'>AQUA丝睿</span></span><span style='font-size: 17.5px; line-height: 18.5714px; color: rgb(239, 198, 49); font-weight: bold;'>水蕴养肌净透洁肤油</span><span style='color: inherit; font-size: 18px; font-family: 微软雅黑, 'Microsoft YaHei';'>，透明油体，带有淡淡清香。正装采用按压式瓶口设计，并且带有安全扣。</span></p><p><br></p><section style='text-align: center; margin: 5px 0px;'><section class='96wx-bdtc 96wx-bdrc 96wx-bdbc' style='transform: rotate(30deg); border-width: 3px; border-style: solid; border-color: rgb(215, 198, 83) rgb(215, 198, 83) rgb(215, 198, 83) rgba(0, 0, 0, 0); border-radius: 50%; display: inline-block;'><section style='border:5px solid rgba(0,0,0,0);display: inline-block;border-radius:50%;'><section class='96wx-bdtc 96wx-bdbc 96wx-bdlc' style='border-width: 3px; border-style: solid; border-color: rgb(215, 198, 83) rgba(0, 0, 0, 0) rgb(215, 198, 83) rgb(215, 198, 83); border-radius: 50%; display: inline-block;'><section class='96wx-color' style='transform: rotate(-30deg); width: 40px; height: 40px; border-radius: 50%; line-height: 40px; font-size: 22px; font-weight: 800; color: rgb(215, 198, 83);'>2</section></section></section></section></section><p><img src='https://www.1p1g.com/uploadimages/1p1g/20170413/7fce8e57-4766-4633-8edd-761d3a16fef2.jpg' style='color: inherit; font-size: 13.3333px; line-height: 20.6349px;'><img src='https://www.1p1g.com/uploadimages/1p1g/20170413/0bfeedb2-6e8c-4b18-b42a-913298b92538.jpg' style='color: inherit; font-size: 13.3333px; line-height: 20.6349px;'><br><span style='font-size: 18px; font-family: 微软雅黑, 'Microsoft YaHei';'>乳化效果：<span style='font-family: 微软雅黑; line-height: 18.1818px; color: rgb(255, 0, 0);'>★ ★ ★ ★ ☆</span></span></p><p><span style='font-size: 18px; font-family: 微软雅黑, 'Microsoft YaHei';'>评测结果：图中</span><span style='color: rgb(239, 198, 49); font-family: 微软雅黑, 'Microsoft YaHei'; font-size: 18px; font-weight: bold; line-height: 34.2857px; text-align: center;'>去污小黄瓶→</span><span style='color: inherit; font-size: 18px; font-family: 微软雅黑, 'Microsoft YaHei';'><span style='color: rgb(239, 198, 49); font-weight: bold;'>AQUA丝睿</span></span><span style='font-size: 17.5px; line-height: 18.5714px; color: rgb(239, 198, 49); font-weight: bold;'>水蕴养肌净透洁肤油</span><span style='color: inherit; font-family: 微软雅黑, 'Microsoft YaHei'; font-size: 18px; line-height: 1.42857;'>油滴入量杯中后，观察其乳化速度和程度，洁颜油能够快速乳化溶解，可以见到乳化后清水变得乳白，乳化得很彻底；</span></p><p><span style='font-size: 18px; font-family: 微软雅黑, 'Microsoft YaHei';'><br></span></p><section style='text-align: center; margin: 5px 0px;'><section class='96wx-bdtc 96wx-bdrc 96wx-bdbc' style='transform: rotate(30deg); border-width: 3px; border-style: solid; border-color: rgb(215, 198, 83) rgb(215, 198, 83) rgb(215, 198, 83) rgba(0, 0, 0, 0); border-radius: 50%; display: inline-block;'><section style='border:5px solid rgba(0,0,0,0);display: inline-block;border-radius:50%;'><section class='96wx-bdtc 96wx-bdbc 96wx-bdlc' style='border-width: 3px; border-style: solid; border-color: rgb(215, 198, 83) rgba(0, 0, 0, 0) rgb(215, 198, 83) rgb(215, 198, 83); border-radius: 50%; display: inline-block;'><section class='96wx-color' style='transform: rotate(-30deg); width: 40px; height: 40px; border-radius: 50%; line-height: 40px; font-size: 22px; font-weight: 800; color: rgb(215, 198, 83);'>3</section></section></section></section></section><p><img src='https://www.1p1g.com/uploadimages/1p1g/20170413/27fca689-172d-4fe8-8ee3-fcc5440e7087.jpg' style='color: inherit; font-size: 18.018px; line-height: 27.885px;'><img src='https://www.1p1g.com/uploadimages/1p1g/20170413/553c90e8-69ab-4e31-8220-c6247cd78f93.jpg' style='color: inherit; font-size: 13.3333px; line-height: 20.6349px;'></p><p><span style='font-size: 18px; font-family: 微软雅黑, 'Microsoft YaHei';'>卸妆能力：<span style='font-family: 微软雅黑; line-height: 18.1818px; color: rgb(255, 0, 0);'>★ ★ ★ ★&nbsp;<span style='line-height: 18.1818px;'>★&nbsp;</span></span></span></p><p><span style='font-size: 18px; font-family: 微软雅黑, 'Microsoft YaHei';'>评测结果：观察图片，用了这款洁颜油清洁后，手背上的彩妆痕迹全部被卸除，没有残留痕迹，能够轻松卸除日常妆容，使用后皮肤感觉亦不会太油腻。</span></p><p><span style='font-size: 18px; font-family: 微软雅黑, 'Microsoft YaHei';'><br></span></p><p><span style='font-size: 18px; font-family: 微软雅黑, 'Microsoft YaHei';'><br></span></p><p><br></p><section style='text-align: center; margin: 5px 0px;'><section class='96wx-bdtc 96wx-bdrc 96wx-bdbc' style='transform: rotate(30deg); border-width: 3px; border-style: solid; border-color: rgb(215, 198, 83) rgb(215, 198, 83) rgb(215, 198, 83) rgba(0, 0, 0, 0); border-radius: 50%; display: inline-block;'><section style='border:5px solid rgba(0,0,0,0);display: inline-block;border-radius:50%;'><section class='96wx-bdtc 96wx-bdbc 96wx-bdlc' style='border-width: 3px; border-style: solid; border-color: rgb(215, 198, 83) rgba(0, 0, 0, 0) rgb(215, 198, 83) rgb(215, 198, 83); border-radius: 50%; display: inline-block;'><section class='96wx-color' style='transform: rotate(-30deg); width: 40px; height: 40px; border-radius: 50%; line-height: 40px; font-size: 22px; font-weight: 800; color: rgb(215, 198, 83);'>4</section></section></section></section></section><p><br></p><p><img src='https://www.1p1g.com/uploadimages/1p1g/20170413/d92f9e82-d1ea-44eb-a08b-9e8bd78d6a7b.jpg' style='color: inherit; font-size: 13.3333px; line-height: 20.6349px;'></p><p><img src='https://www.1p1g.com/uploadimages/1p1g/20170413/f9104095-7eb1-40e8-b7cb-4adf65085867.jpg' style='color: inherit; font-size: 13.3333px; line-height: 20.6349px;'></p><p><span style='font-size: 18px; font-family: 微软雅黑, 'Microsoft YaHei';'>温和性：<span style='font-family: 微软雅黑; line-height: 18.1818px; color: rgb(255, 0, 0);'>★ ★ ★ ★&nbsp;<span style='line-height: 18.1818px;'>★</span></span><span style='color: rgb(156, 0, 255); font-family: 微软雅黑; line-height: 18.1818px;'>&nbsp;</span></span></p><p><br></p><p><span style='font-size: 18px; font-family: 微软雅黑, 'Microsoft YaHei';'>评测结果：经过测试，该款洁颜油的pH值介于5至6之间，接近人体平衡酸碱度pH5.5，性质温和，使用起来肌肤感觉舒适。</span></p><p><span style='font-size: 18px; font-family: 微软雅黑, 'Microsoft YaHei';'><br></span></p><p><br></p><p style='text-align: center; '><span style='background-color: yellow; font-weight: bold;'><span style='font-family: 微软雅黑, 'Microsoft YaHei'; font-size: 18px;'>评测总结：&nbsp;</span></span></p><p style='text-align: center; '><span style='background-color: yellow; font-weight: bold;'><span style='font-family: 微软雅黑, 'Microsoft YaHei'; font-size: 18px;'><br></span></span></p><p style='text-align: center; '><span style='color: inherit; font-size: 18px; font-family: 微软雅黑, 'Microsoft YaHei';'><span style='color: rgb(239, 198, 49); font-weight: bold;'>去污小黄瓶→[AQUA丝睿</span></span><span style='font-size: 17.5px; line-height: 18.5714px; color: rgb(239, 198, 49); font-weight: bold;'>水蕴养肌净透洁肤油]&nbsp;</span><span style='color: inherit; font-weight: bold; font-family: 微软雅黑, 'Microsoft YaHei'; font-size: 18px; background-color: rgb(255, 255, 0);'>质地呈透明水油状，温和亲肤油质清</span><span style='color: inherit; font-weight: bold; font-family: 微软雅黑, 'Microsoft YaHei'; font-size: 18px; line-height: 1.42857; background-color: rgb(255, 255, 0);'>透，乳化效果佳。卸妆能力佳，卸除日常通勤</span><span style='color: inherit; font-weight: bold; font-family: 微软雅黑, 'Microsoft YaHei'; font-size: 18px; line-height: 1.42857; background-color: rgb(255, 255, 0);'>淡妆轻松无压力。</span></p><p><span style='font-family: 微软雅黑, 'Microsoft YaHei'; font-size: 18px;'><br></span></p><p style='text-align: center; '><span style='font-family: 微软雅黑, 'Microsoft YaHei'; font-size: 18px;'><br></span></p><p style='text-align: center; line-height: 3;'><span style='font-family: 微软雅黑, 'Microsoft YaHei'; font-size: 18px;'>最后，发表下结案呈词：</span></p><p style='text-align: center; line-height: 3;'><span style='font-family: 微软雅黑, 'Microsoft YaHei'; font-size: 18px;'>以名识人不可取！重要的是内在！</span></p><p style='text-align: center; line-height: 3;'><span style='font-family: 微软雅黑, 'Microsoft YaHei'; font-size: 18px;'>嗯...小编要说的是，虽然</span><span style='color: rgb(239, 198, 49); font-family: 微软雅黑, 'Microsoft YaHei'; font-size: 18px; font-weight: bold; line-height: 34.2857px;'>去污小黄瓶→</span><span style='color: inherit; text-align: start; font-size: 18px; font-family: 微软雅黑, 'Microsoft YaHei';'><span style='color: rgb(239, 198, 49); font-weight: bold;'>AQUA丝睿</span></span><span style='font-size: 17.5px; text-align: start; line-height: 18.5714px; color: rgb(239, 198, 49); font-weight: bold;'>水蕴养肌净透洁肤油</span><span style='color: inherit; font-family: 微软雅黑, 'Microsoft YaHei'; font-size: 18px;'>人称网“</span><span style='color: inherit; font-family: 微软雅黑, 'Microsoft YaHei'; font-size: 18px;'>黄”，</span></p><p style='text-align: center; line-height: 3;'><span style='font-family: 微软雅黑, 'Microsoft YaHei'; font-size: 18px;'>但，实实在在的去污界的一把好手啊！</span></p><p style='text-align: center; line-height: 3;'><br></p><p style='text-align: center; line-height: 3;'><span style='font-family: 微软雅黑, 'Microsoft YaHei'; font-size: 18px;'>不信就来试试？</span></p><p style='text-align: center; line-height: 3;'><span style='font-family: 微软雅黑, 'Microsoft YaHei'; font-size: 18px;'>↓</span></p><p style='text-align: center;'><span style='font-family: 微软雅黑, 'Microsoft YaHei'; font-size: 18px; line-height: 72px; background-color: yellow; font-weight: bold;'><a href='https://www.1p1g.com/aquasprina201704' target='_blank'>https://www.1p1g.com/aquasprina201704</a></span><br></p><p style='text-align: center; line-height: 3;'><span style='font-family: 微软雅黑, 'Microsoft YaHei'; font-size: 18px;'><br></span></p><p><span style='font-family: 微软雅黑, 'Microsoft YaHei'; font-size: 18px;'><br></span></p><p><span style='font-family: 微软雅黑, 'Microsoft YaHei'; font-size: 18px;'></span></p><p style='text-align:center;'><img class='96wx-img' data-wxsrc='https://mmbiz.qlogo.cn/mmbiz/s3tibY3aywM3EQ0B6pBIxN6mh7KcS21wFzicSDgIlRZnH4PAOqDB73LknQmbpnF1ib4RzibeFSX9YN6HRR4KjSrqOw/0?wx_fmt=gif' src='http://im3.image.96weixin.com/sucai-n/fenge/137.gif'></p><p><span style='font-family: 微软雅黑, 'Microsoft YaHei'; font-size: 18px;'></span><br></p><p><br></p><p><br></p>\n" +
                "\t\t                        <div><br></div><br><br><br>";
        System.out.println(replacePhoneWidth(s));

    }
    protected static  String replacePhoneWidth(String s) {
        Map<String, String> map = Maps.newHashMap();
        Matcher m = p.matcher(s);
        while (m.find()) {
            String orgin = m.group().toLowerCase();
            String newStr = "";
            String temp = orgin;
            //处理不带域名的图片链接
            if (!orgin.contains("http") && !orgin.contains("https")) {
                //src="http://www.1p1g.com
                temp = orgin.replaceAll("src\\s*=\\s*'", "src='" + "www.1p1g.com");
            }
            //处理宽度 100%
            if (temp.contains("style")) {
                if (temp.contains("width")) {
                    newStr = temp.replaceAll("width\\s*:\\s*(\\d+)\\s*(px|%)", "width: 100%");
                } else {
                    newStr = temp.replaceAll("style\\s*=\\s*'", "style='width: 100%;");
                }
                if(newStr.contains("height")) {
                    newStr = newStr.replaceAll("height\\s*:\\s*(\\d+)\\s*(px|%);", "");
                }
            } else {
                newStr = temp.replaceAll("<img", "<img style='width:100%'");
            }
            if (!orgin.equals(newStr)) {
                map.put(orgin, newStr);
            }
        }
        for (Map.Entry me : map.entrySet()) {
            s = s.replaceAll("(?i)"+String.valueOf(me.getKey()), String.valueOf(me.getValue()));
        }
        return s;
    }
}
